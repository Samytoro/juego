<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jugando con Emma</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
  /* Estilos CSS */
  body {
    font-family: 'Roboto', sans-serif;
    text-align: center;
    background: linear-gradient(to bottom right, #28a745, #20c997, #17a2b8); /* Degradado de colores verde, verde azulado y cian */
    color: #fff; /* Texto blanco sobre el fondo */
  }

  header {
    padding: 20px 0;
  }

  footer {
    padding: 20px 0;
    font-size: 14px;
  }

  .container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    background-color: rgba(255, 255, 255, 0.8); /* Fondo blanco semi-transparente */
    border-radius: 20px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1); /* Sombra más pronunciada */
  }

  .image-box {
    margin-bottom: 20px;
    position: relative;
    border-radius: 20px;
    overflow: hidden; /* Evitar que el borde redondeado se solape con la imagen */
  }

  .image-box img {
    max-width: 100%;
    height: auto;
    transition: transform 0.3s ease; /* Añadir una transición suave */
  }

  .image-box:hover img {
    transform: scale(1.1); /* Escalar la imagen en el hover */
  }

  .audio-button {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: #ff6b81; /* Rosa */
    border: none;
    border-radius: 50%; /* Hacer el botón redondeado */
    padding: 8px; /* Aumentar el espacio interno */
    cursor: pointer;
    transition: background-color 0.3s ease; /* Transición suave */
  }

  .audio-button img {
    width: 20px;
    height: auto;
  }

  .audio-button:hover {
    background-color: #ff7979; /* Rosa más claro en el hover */
  }

  .letter-box {
    margin-bottom: 20px;
  }

  .letter-box .letter {
    display: inline-block;
    font-size: 24px;
    background-color: #007bff; /* Azul */
    color: #fff; /* Texto blanco */
    padding: 12px;
    margin: 5px;
    cursor: pointer;
    border-radius: 10px; /* Hacer los botones de letra redondeados */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Añadir una sombra suave */
    transition: background-color 0.3s ease; /* Transición suave */
  }

  .letter-box .letter:hover {
    background-color: #6f42c1; /* Morado en el hover */
  }

  .answer-box {
    margin-bottom: 20px;
  }

  .answer-box .letter-slot {
    display: inline-block;
    font-size: 24px;
    background-color: #ffc107; /* Amarillo */
    padding: 12px;
    margin: 5px;
    border-radius: 10px; /* Hacer los slots de respuesta redondeados */
    border: 2px dashed #fd7e14; /* Borde naranja */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Añadir una sombra suave */
  }

  .message {
    font-size: 18px;
    font-weight: bold;
    color: #dc3545; /* Rojo */
    margin-bottom: 20px;
  }

  .points {
    font-size: 18px;
    font-weight: bold;
    color: #6f42c1; /* Morado */
    margin-bottom: 20px;
  }

  .restart-button,
  .play-again-button {
    font-size: 18px;
    padding: 12px 24px;
    background-color: #ff6b81; /* Rosa */
    color: #fff; /* Texto blanco */
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: background-color 0.3s ease; /* Transición suave */
  }

  .restart-button:hover,
  .play-again-button:hover {
    background-color: #ff7979; /* Rosa más claro en el hover */
  }

  .play-again-button {
    font-size: 24px;
    padding: 20px 40px;
    border-radius: 20px; /* Hacer el botón más redondeado */
    margin-top: 50px;
  }
</style>
</head>
<body>
<header>
  <h1>Jugando con Emma</h1>
</header>
<div class="container">
  <div class="image-box">
    <img src="images/memo.jpg" alt="Memo">
    <button class="audio-button" onclick="playAudio('audio/memo.mp3')">
      <img src="audio-icon.png" alt="Reproducir audio">
    </button>
  </div>
  <div class="letter-box"></div>
  <div class="answer-box"></div>
  <div class="message"></div>
  <div class="points">Puntos: <span id="points">0</span></div> <!-- Aquí mostraremos los puntos -->
  <button class="restart-button" style="display: none;">Reiniciar</button>
  <button class="play-again-button" style="display: none;">Jugar de Nuevo</button>
</div>
<footer>
  © 2022 Jugando con Emma. Todos los derechos reservados.
</footer>
<script>


document.addEventListener("DOMContentLoaded", function() {
  const words = [
    { word: "memo", image: "memo.jpg", audio: "memo.mp3" },
    { word: "mama", image: "mama.jpg", audio: "mama.mp3" },
    { word: "mimo", image: "mimo.jpg", audio: "mimo.mp3" },
    { word: "mima", image: "mima.jpg", audio: "mima.mp3" },
    { word: "amo", image: "amo.jpg", audio: "amo.mp3" },
    { word: "mio", image: "mio.jpg", audio: "mio.mp3" },
    { word: "mia", image: "mia.jpg", audio: "mia.mp3" },
    { word: "eme", image: "eme.jpg", audio: "eme.mp3" },
    { word: "mariposa", image: "mariposa.jpg", audio: "mariposa.mp3" },
    { word: "momia", image: "momia.jpg", audio: "momia.mp3" },
    { word: "mami", image: "mami.jpg", audio: "mami.mp3" },
    { word: "ema", image: "ema.jpg", audio: "ema.mp3" },
    { word: "ama", image: "ama.jpg", audio: "ama.mp3" },
    { word: "miau", image: "miau.jpg", audio: "miau.mp3" },
    
  ];
  let currentWordIndex = 0;
  let points = 0;
  let lettersPlaced = 0;

  const letterBox = document.querySelector(".letter-box");
  const answerBox = document.querySelector(".answer-box");
  const message = document.querySelector(".message");
  const pointsDisplay = document.getElementById("points");
  const restartButton = document.querySelector(".restart-button");
  const playAgainButton = document.querySelector(".play-again-button");

  function shuffleWord(word) {
    return word.split('').sort(function() { return 0.5 - Math.random() }).join('');
  }

  function displayLetters(word) {
    word.split('').forEach(letter => {
      const letterButton = document.createElement("div");
      letterButton.textContent = letter;
      letterButton.classList.add("letter");
      letterBox.appendChild(letterButton);
      letterButton.addEventListener("click", function() {
        const targetSlot = answerBox.querySelector(`[data-letter=""]`);
        if (targetSlot && lettersPlaced < words[currentWordIndex].word.length) {
          targetSlot.textContent = letter;
          targetSlot.setAttribute("data-letter", letter);
          lettersPlaced++;
          if (lettersPlaced === words[currentWordIndex].word.length) {
            checkAnswer();
          }
        }
      });
    });
  }

  function displayAnswerBoxes(word) {
    word.split('').forEach(() => {
      const answerSlot = document.createElement("div");
      answerSlot.classList.add("letter-slot");
      answerSlot.setAttribute("data-letter", "");
      answerBox.appendChild(answerSlot);
    });
  }

  function checkAnswer() {
    const answerSlots = Array.from(document.querySelectorAll(".answer-box .letter-slot"));
    const userWord = answerSlots.map(slot => slot.textContent).join('').toLowerCase();
    const normalizedCorrectWord = normalizeWord(words[currentWordIndex].word).toLowerCase();
    if (userWord === normalizedCorrectWord) {
      message.textContent = "¡Lo has logrado!";
      points++;
      pointsDisplay.textContent = points;
      currentWordIndex++;
      if (currentWordIndex < words.length) {
        startNextWord();
      } else {
        message.textContent = `¡Felicidades! Has completado todas las palabras. Total de palabras buenas: ${points}`;
        playAgainButton.style.display = "inline-block";
      }
    } else {
      message.textContent = "Inténtalo nuevamente. ¡No te rindas!";
    }
    lettersPlaced = 0;
    answerSlots.forEach(slot => {
      slot.textContent = "";
      slot.setAttribute("data-letter", "");
    });
  }

  function startNextWord() {
    letterBox.innerHTML = "";
    answerBox.innerHTML = "";
    displayLetters(shuffleWord(words[currentWordIndex].word));
    displayAnswerBoxes(words[currentWordIndex].word);
    displayImage(words[currentWordIndex]);
    displayAudioButton(words[currentWordIndex].audio);
  }

  function normalizeWord(word) {
    return word.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
  }

  function displayImage(wordInfo) {
    const imageBox = document.querySelector(".image-box");
    imageBox.innerHTML = "";
    const image = document.createElement("img");
    image.src = "images/" + wordInfo.image;
    image.alt = wordInfo.word;
    imageBox.appendChild(image);
  }

  function displayAudioButton(audioSrc) {
    const imageBox = document.querySelector(".image-box");
    const audioButton = document.createElement("button");
    audioButton.classList.add("audio-button");
    audioButton.onclick = function() { playAudio("audio/" + audioSrc); };
    const audioIcon = document.createElement("img");
    audioIcon.src = "audio-icon.png";
    audioIcon.alt = "Reproducir audio";
    audioButton.appendChild(audioIcon);
    imageBox.appendChild(audioButton);
  }

  function playAudio(audioSrc) {
    const audio = new Audio(audioSrc);
    audio.play();
  }

  restartButton.addEventListener("click", function() {
    currentWordIndex = 0;
    points = 0;
    lettersPlaced = 0;
    pointsDisplay.textContent = points;
    restartButton.style.display = "none";
    playAgainButton.style.display = "none";
    startNextWord();
  });

  playAgainButton.addEventListener("click", function() {
    currentWordIndex = 0;
    points = 0;
    lettersPlaced = 0;
    pointsDisplay.textContent = points;
    restartButton.style.display = "none";
    playAgainButton.style.display = "none";
    startNextWord();
  });

  displayLetters(shuffleWord(words[currentWordIndex].word));
  displayAnswerBoxes(words[currentWordIndex].word);
  displayImage(words[currentWordIndex]);
  displayAudioButton(words[currentWordIndex].audio);
});
</script>
</body>
</html>
